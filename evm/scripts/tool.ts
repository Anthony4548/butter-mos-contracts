import { BigNumber, ethers } from "ethers";
require('dotenv/config');

const mapProvider = new ethers.providers.JsonRpcProvider("http://18.142.54.137:7445", 212);
const mapSigner = new ethers.Wallet(process.env.PRIVATE_KEY!, mapProvider);

const ethProvider = new ethers.providers.JsonRpcProvider("http://18.138.248.113:8545", 34434);
const ethSigner = new ethers.Wallet(process.env.PRIVATE_KEY!, ethProvider);

const WMAPAbi = [
    "function deposit() public payable"
]

const tokenABI = [
    "function approve(address _spender, uint256 _value) public returns (bool success)",
    "function allowance(address owner, address spender) public view returns (uint256)"
]

async function main() {
    // console.log(await approve("0xE1b2b81B66150F9EF5A89dC346a7A8B8df05d847", "0x27A51306c2b727d068c1B6E9895c6d160Edd21B3", ethers.utils.parseEther("1000")));
    // await wrapMap("100");
    const b = [210,76,105,68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,130,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,84,249,9,81,148,39,165,19,6,194,183,39,208,104,193,182,233,137,92,109,22,14,221,33,179,148,39,165,19,6,194,183,39,208,104,193,182,233,137,92,109,22,14,221,33,179,130,134,130,130,134,130,185,9,30,249,9,27,249,4,130,1,131,1,16,188,185,1,0,36,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,34,0,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,2,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,192,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,249,3,119,248,155,148,225,178,184,27,102,21,15,158,245,168,157,195,70,167,168,184,223,5,216,71,248,99,160,140,91,225,229,235,236,125,91,209,79,113,66,125,30,132,243,221,3,20,192,247,178,41,30,91,32,10,200,199,195,185,37,160,0,0,0,0,0,0,0,0,0,0,0,0,203,219,29,164,249,146,118,176,196,39,119,107,222,147,131,139,193,147,134,204,160,0,0,0,0,0,0,0,0,0,0,0,0,39,165,19,6,194,183,39,208,104,193,182,233,137,92,109,22,14,221,33,179,160,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,53,101,158,249,63,15,196,0,0,248,155,148,225,178,184,27,102,21,15,158,245,168,157,195,70,167,168,184,223,5,216,71,248,99,160,221,242,82,173,27,226,200,155,105,194,176,104,252,55,141,170,149,43,167,241,99,196,161,22,40,245,90,77,245,35,179,239,160,0,0,0,0,0,0,0,0,0,0,0,0,203,219,29,164,249,146,118,176,196,39,119,107,222,147,131,139,193,147,134,204,160,0,0,0,0,0,0,0,0,0,0,0,0,39,165,19,6,194,183,39,208,104,193,182,233,137,92,109,22,14,221,33,179,160,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,41,162,36,26,246,44,0,0,249,2,58,148,39,165,19,6,194,183,39,208,104,193,182,233,137,92,109,22,14,221,33,179,225,160,172,160,161,6,117,72,39,14,128,193,32,158,198,155,83,129,216,11,218,243,69,173,112,207,127,0,175,156,110,211,249,180,185,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,64,1,93,202,105,116,196,220,104,68,86,88,200,207,33,213,97,26,3,135,61,16,5,120,3,156,235,113,107,169,206,10,237,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,130,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,130,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,41,162,36,26,246,44,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,225,178,184,27,102,21,15,158,245,168,157,195,70,167,168,184,223,5,216,71,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,203,219,29,164,249,146,118,176,196,39,119,107,222,147,131,139,193,147,134,204,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,140,155,60,175,125,237,211,0,63,83,49,39,121,193,185,43,161,98,93,148,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,249,4,142,249,4,139,130,32,128,185,4,133,249,4,130,1,131,1,16,188,185,1,0,36,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,34,0,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,2,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,192,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,249,3,119,248,155,148,225,178,184,27,102,21,15,158,245,168,157,195,70,167,168,184,223,5,216,71,248,99,160,140,91,225,229,235,236,125,91,209,79,113,66,125,30,132,243,221,3,20,192,247,178,41,30,91,32,10,200,199,195,185,37,160,0,0,0,0,0,0,0,0,0,0,0,0,203,219,29,164,249,146,118,176,196,39,119,107,222,147,131,139,193,147,134,204,160,0,0,0,0,0,0,0,0,0,0,0,0,39,165,19,6,194,183,39,208,104,193,182,233,137,92,109,22,14,221,33,179,160,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,53,101,158,249,63,15,196,0,0,248,155,148,225,178,184,27,102,21,15,158,245,168,157,195,70,167,168,184,223,5,216,71,248,99,160,221,242,82,173,27,226,200,155,105,194,176,104,252,55,141,170,149,43,167,241,99,196,161,22,40,245,90,77,245,35,179,239,160,0,0,0,0,0,0,0,0,0,0,0,0,203,219,29,164,249,146,118,176,196,39,119,107,222,147,131,139,193,147,134,204,160,0,0,0,0,0,0,0,0,0,0,0,0,39,165,19,6,194,183,39,208,104,193,182,233,137,92,109,22,14,221,33,179,160,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,41,162,36,26,246,44,0,0,249,2,58,148,39,165,19,6,194,183,39,208,104,193,182,233,137,92,109,22,14,221,33,179,225,160,172,160,161,6,117,72,39,14,128,193,32,158,198,155,83,129,216,11,218,243,69,173,112,207,127,0,175,156,110,211,249,180,185,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,64,1,93,202,105,116,196,220,104,68,86,88,200,207,33,213,97,26,3,135,61,16,5,120,3,156,235,113,107,169,206,10,237,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,130,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,130,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,41,162,36,26,246,44,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,225,178,184,27,102,21,15,158,245,168,157,195,70,167,168,184,223,5,216,71,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,203,219,29,164,249,146,118,176,196,39,119,107,222,147,131,139,193,147,134,204,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,140,155,60,175,125,237,211,0,63,83,49,39,121,193,185,43,161,98,93,148,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,131,5,177,33,128,0,0,0,0,0,0,0,0,0,0,0,0];
    console.log(ethers.utils.hexlify(b));


}
async function wrapMap(amount: string) {
    const WMAPContract = new ethers.Contract("0x13CB04d4a5Dfb6398Fc5AB005a6c84337256eE23", WMAPAbi, mapSigner);
    const r = await WMAPContract.deposit({value: ethers.utils.parseEther(amount)});
    console.log(r);
}

async function approve(tokenAddress: string, spender: string, amount: BigNumber) {
    const tokenContract = new ethers.Contract(tokenAddress, tokenABI, ethSigner);
    const success = await tokenContract.allowance("0xCBdb1Da4f99276b0c427776BDE93838Bc19386Cc", spender);
    return success;
}
main()
  .then(() => process.exit(0))
  .catch((error) => {
    console.error(error);
    process.exit(1);
});